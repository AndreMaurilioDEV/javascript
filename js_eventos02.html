<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript - Eventos</title>
</head>
<body>

    <div class="container">


        <h2>Propagação de eventos</h2>
        <div id="d1" style="background-color: red; padding: 25px;">
        <span id="d1Span" style="background-color: yellow;">texto dentro da span</span>
        </div>

    </div>

    <script>
        // add.EventListener(event,function,useCapture)
        // A propagação padrão(useCapture = false) é do elemento mais interno ao externo(do span a div, nesse caso), o filho propaga pra os pais.
        // useCapture = true vai do elemento externo(pai) ao interno(filho).
        // add.EventListener("click",function(){},true)

        var $d1 = document.querySelector('#d1')
        var $d1Span = document.querySelector('#d1 span')

        $d1.addEventListener("click",function(evento){
            console.log("Clicou no d1")
            evento.stopPropagation(); // para de propagar os outros eventos( a partir dele)
        })

        $d1Span.addEventListener("click",function(){
            console.log("Clicou no d1Span")
        })

        document.addEventListener("click", function(evento){
            console.log("Clicou no document");
            console.log(evento.currentTarget); // é o próprio document que  está atrelando function ao evento 
            console.log(this) // mesma coisa do acima

            console.log(evento.target); // quem disparou o evento
        })

    </script>
    
</body>
</html>